services:
    smartgear.backend.backupservice:
        class: WEM\SmartgearBundle\Backup\BackupService
        arguments:
            - '@contao.framework'
            - '@filesystem'
            - '@contao.slug.generator'
            - '@request_stack'
        public: true
    smartgear.backend.updater:
        class: WEM\SmartgearBundle\Updater\UpdaterService
        arguments:
            - '@contao.framework'
            - '@filesystem'
            - '@contao.slug.generator'
            - '@request_stack'
        public: true

    smartgear.classes.config.manager.core:
        class: WEM\SmartgearBundle\Classes\Config\Manager
        arguments:
            $configuration: '@smartgear.config.core'
            $configurationFilePath: 'assets/smartgear/config_core.json'
        public: true

    smartgear.config.core:
        class: WEM\SmartgearBundle\Config\Core
        public: true

    smartgear.backend.module.core.block:
        class: WEM\SmartgearBundle\Backend\Module\Core\Block
        arguments:
            $configurationStepManager: '@smartgear.backend.module.core.configuration_step_manager'
        public: true

    smartgear.backend.module.core.configuration_step_manager:
        class: WEM\SmartgearBundle\Classes\Backend\ConfigurationStepManager
        arguments:
            $configurationManager: '@smartgear.classes.config.manager.core'
            $module: 'core'
            $type: 'core'
            $steps: 
                - '@smartgear.backend.module.core.configuration_step.general'
                - '@smartgear.backend.module.core.configuration_step.framway_retrieval'
                - '@smartgear.backend.module.core.configuration_step.framway_configuration'
        public: true

    smartgear.backend.module.core.configuration_step.general:
        class: WEM\SmartgearBundle\Backend\Module\Core\ConfigurationStep\General
        arguments:
            $module: 'core'
            $type: 'core'
            $configurationManager: '@smartgear.classes.config.manager.core'
        public: true

    smartgear.backend.module.core.configuration_step.framway_retrieval:
        class: WEM\SmartgearBundle\Backend\Module\Core\ConfigurationStep\FramwayRetrieval
        arguments:
            $module: 'core'
            $type: 'core'
            $configurationManager: '@smartgear.classes.config.manager.core'
        public: true

    smartgear.backend.module.core.configuration_step.framway_configuration:
        class: WEM\SmartgearBundle\Backend\Module\Core\ConfigurationStep\FramwayConfiguration
        arguments:
            $module: 'core'
            $type: 'core'
            $configurationManager: '@smartgear.classes.config.manager.core'
        public: true
